{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ItemComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ItemComponent_button_17_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.toggleHeart($event));\n    });\n    i0.ɵɵelement(1, \"i\", 16)(2, \"i\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"filled\", ctx_r0.isFilled);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/product/\", a1];\n};\nexport let ItemComponent = /*#__PURE__*/(() => {\n  class ItemComponent {\n    constructor(http) {\n      this.http = http;\n      this.isFilled = false;\n      this.items = {};\n      this.arr = [];\n    }\n    toggleHeart(event) {\n      this.isFilled = !this.isFilled;\n      this.loggeduser = JSON.parse(localStorage.getItem('user'));\n      if (this.loggeduser != null) {\n        this.email = this.loggeduser[0].email;\n      }\n      let data = {\n        \"email\": this.email,\n        \"productId\": this.item.id,\n        \"status\": this.isFilled\n      };\n      //Modify favorites status for user\n      this.http.put('http://localhost:4000/user/favorites', data).subscribe(res => {\n        console.log(res);\n      });\n    }\n    getImageUrl(model) {\n      const filename = model.replace(/\\s+/g, '');\n      return `../../../assets/img/product/${filename}.jpg`;\n    }\n    ngOnInit() {\n      this.loggeduser = JSON.parse(localStorage.getItem('user'));\n      if (this.loggeduser != null && this.loggeduser[0]) {\n        this.http.get('http://localhost:4000/user/get/' + this.loggeduser[0].email).subscribe(res => {\n          this.items = res;\n          this.arr = this.items.data[0].favorites;\n          if (this.arr.includes(this.item.id)) {\n            this.isFilled = true;\n          } else {\n            this.isFilled = false;\n          }\n        });\n      }\n    }\n    toProduct(event) {}\n  }\n  ItemComponent.ɵfac = function ItemComponent_Factory(t) {\n    return new (t || ItemComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n  ItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemComponent,\n    selectors: [[\"app-item\"]],\n    inputs: {\n      item: \"item\"\n    },\n    decls: 18,\n    vars: 13,\n    consts: [[1, \"main\", \"pl-2\"], [1, \"card\", \"shadow-sm\"], [1, \"card-body\"], [1, \"inline-block\", 3, \"routerLink\"], [\"alt\", \"\", 1, \"p-4\", 3, \"src\"], [1, \"card-text1\", \"mb-3\"], [1, \"card-text2\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-cart-plus\"], [\"d\", \"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z\"], [\"d\", \"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"], [\"id\", \"heart\", 3, \"filled\", \"click\", 4, \"ngIf\"], [\"id\", \"heart\", 3, \"click\"], [1, \"bi\", \"bi-heart\"], [1, \"bi\", \"bi-heart-fill\"]],\n    template: function ItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"p\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"button\", 9);\n        i0.ɵɵtext(12, \" More \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 10);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(14, \"svg\", 11);\n        i0.ɵɵelement(15, \"path\", 12)(16, \"path\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(17, ItemComponent_button_17_Template, 3, 2, \"button\", 14);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, ctx.item.id));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"src\", ctx.getImageUrl(ctx.item.product), i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate4(\" \", ctx.item.brand, \" \", ctx.item.product, \" \", ctx.item.storage, \" \", ctx.item.color, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"$\", ctx.item.price, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c0, ctx.item.id));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggeduser);\n      }\n    },\n    dependencies: [i2.NgIf, i3.RouterLink],\n    styles: [\"@import\\\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css\\\";#heart[_ngcontent-%COMP%]{cursor:pointer;border:0;background-color:#fff}#heart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.bi-heart[_ngcontent-%COMP%]{color:#6c757d}.bi-heart-fill[_ngcontent-%COMP%]{color:red}#heart.filled[_ngcontent-%COMP%]   .bi-heart-fill[_ngcontent-%COMP%]{display:inline-block}#heart[_ngcontent-%COMP%]:not(.filled)   .bi-heart[_ngcontent-%COMP%]{display:inline-block}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.card-text1[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}.card-text2[_ngcontent-%COMP%]{text-align:right}\"]\n  });\n  return ItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}